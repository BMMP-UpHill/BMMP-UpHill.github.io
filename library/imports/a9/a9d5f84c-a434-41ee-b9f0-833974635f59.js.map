{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "\r\nconst ItemType = require('Types').ItemType;\r\nconst ItemState = require('States').ItemState;\r\nconst ItemActivityState = require('States').ItemActivityState;\r\n\r\nconst riseY = 50;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemtype: {\r\n            default: ItemType.None,\r\n            type: ItemType\r\n        },\r\n\r\n        itemstate: {\r\n            default: ItemState.Pickable,\r\n            type: ItemState\r\n        },\r\n        \r\n        activitystate: {\r\n            default: ItemActivityState.Idle,\r\n            type: ItemActivityState,\r\n        },\r\n        \r\n        collectRadius: 0,\r\n        itemValue: 0,   // Value of the item when picked up(pure score, score multiplier)\r\n        itemTimer: 0,\r\n\r\n        activationsound: { // Drag right audio here.\r\n            default: null,\r\n            url: cc.AudioClip,\r\n        },\r\n    },\r\n\r\n    \r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    destroyItem: function(){\r\n        console.log(\"Itemtype to destroy: \"+this.itemtype.toString());\r\n        console.log(ItemType[this.itemtype]);\r\n        switch(this.itemtype){\r\n           case ItemType.Slower:\r\n                break;\r\n            case ItemType.Antidote:\r\n            case ItemType.Coin:\r\n            case ItemType.Star:\r\n                this.node.destroy();\r\n                break;\r\n        }\r\n    },\r\n\r\n    onPickUpCallback: function(player, game){\r\n        this.itemstate = ItemState.Picked;\r\n        this.activitystate = ItemActivityState.Active;\r\n        // Perform the action the item produces(change player or environment)\r\n        switch(this.itemtype){\r\n            case ItemType.Antidote:\r\n                player.isPoisoned = false;\r\n                player.poisonTmp = player.poisonTimer; //reset timmer\r\n                break;\r\n            case ItemType.Coin:\r\n                console.log('GAME: ', game.name);\r\n                game.incrementScore(5);\r\n                game.scoreLabel.string = game.score.toString();\r\n                break;\r\n            case ItemType.Star:\r\n                player.isPoisoned = false;\r\n                player.isInvincible = true;\r\n                break;\r\n           case ItemType.Slower:\r\n                console.log(\"SET SWAPED TRUE\");\r\n                player.isSlowed = true;\r\n                break;\r\n        }\r\n        var pickedCallback = cc.callFunc(this.picked, this);\r\n        var soundcallback = cc.callFunc(this.playSound, this);\r\n        // Perform item animation and destroy it\r\n        this.node.runAction(cc.sequence(cc.spawn(this.assemblePickUpAction(), soundcallback)  , pickedCallback));\r\n    },\r\n    \r\n    assemblePickUpAction: function(){\r\n        this.activitystate = ItemActivityState.Active;\r\n        // Rise-Animation for items to show they have been picked up        \r\n        var risePoint = cc.p(this.node.getPositionX(),this.node.getPositionY()+riseY);\r\n        var fade = cc.fadeOut(this.getItemAnimationTime()); // Let item fade during animation\r\n        var anim = null;\r\n        //Remove shadows\r\n        var children = this.node.children;\r\n        for (var i = 0; i < children.length; ++i) {\r\n            children[i].destroy();\r\n        }\r\n\r\n        switch(this.itemtype){\r\n            case ItemType.Star:\r\n            case ItemType.Coin:\r\n            case ItemType.Antidote:\r\n                anim = cc.moveBy(this.getItemAnimationTime(), risePoint);\r\n                break;\r\n        }\r\n        return cc.spawn(fade, anim);\r\n    },\r\n    \r\n    getItemAnimationTime: function(type){\r\n        switch(this.itemtype){\r\n            case ItemType.Antidote:\r\n            case ItemType.Coin:\r\n            case ItemType.Star:\r\n                return 1.5;\r\n        }\r\n    },\r\n    \r\n    picked: function(){\r\n\r\n        this.activitystate = ItemActivityState.Expired;\r\n        this.destroyItem();\r\n    },\r\n\r\n    playSound: function(){\r\n        if(this.activationsound !== null)\r\n            cc.audioEngine.playEffect(this.activationsound, false);\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}